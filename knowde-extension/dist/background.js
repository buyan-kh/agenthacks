!function(){"use strict";chrome.runtime.onInstalled.addListener((()=>{console.log("Knowde extension installed"),chrome.storage.local.set({progress:{conceptsLearned:0,dailyGoal:10,currentStreak:0},settings:{autoCapture:!0,notifications:!0,learningMode:"adaptive"}})})),chrome.runtime.onMessage.addListener(((e,t,o)=>{if(console.log("Background received message:",e),"PROCESS_LEARNING_REQUEST"===e.type)return async function(){const e=["Great question! I'll create a personalized learning plan for you about this topic.","I understand you want to learn more about this. Let me break it down into manageable steps.","Excellent! I'll help you build a comprehensive understanding of this subject.","Perfect! Let me create a structured learning path that builds on your existing knowledge.","I see what you're interested in. I'll design a lesson plan that adapts to your learning style."],t=e[Math.floor(Math.random()*e.length)];await new Promise((e=>setTimeout(e,1e3+2e3*Math.random())));try{const e=(await chrome.storage.local.get(["progress"])).progress||{conceptsLearned:0,dailyGoal:10,currentStreak:0};e.conceptsLearned+=1,await chrome.storage.local.set({progress:e})}catch(e){console.error("Error updating progress:",e)}return{text:t,success:!0}}(e.text).then((e=>o(e))).catch((e=>{console.error("Error processing learning request:",e),o({text:"Sorry, I encountered an error processing your request.",success:!1})})),!0})),chrome.commands.onCommand.addListener((e=>{"toggle-learning"===e&&chrome.action.openPopup()})),chrome.tabs.onUpdated.addListener(((e,t,o)=>{"complete"===t.status&&o.url&&console.log("Page loaded:",o.url)}))}();